import{S as y,bf as ne,m as se,bg as ae,bh as B,bi as re,H as k,D as L,h as _,E as l,n as x,bj as ie,bk as M,_ as le,y as V,bl as ce,aM as O,c as U,e as g,d as j,w as b,ay as z,f as v,al as F,aw as A,t as R,P as G,F as ue,bm as de,z as pe,q as me,aP as E,aS as fe,b6 as ge,r as _e,aT as he,bn as ye,aQ as H,aR as ve,bo as be,aW as Pe,aU as xe,b4 as Ce,I as ke,au as Te}from"./b7XklRhT.js";import{_ as Ie}from"./ChPa5rII.js";import{h as N,M as we}from"./BNEkDnEp.js";import"./DkmHQi0C.js";import"./BcoM21Dg.js";function Se(a,s){const o={title:"label",path:"to"};return Object.keys(a).reduce((u,t)=>{if(a[t]){const m=o[t]||t;u[m]=a[t]}return u},{})}function $e(a,s){return a.map(o=>Se(o))}function W(a,s){return!(a!=null&&a.length)||!s?[]:a.reduce((o,u)=>(s.path&&(s.path+"/").startsWith(u.path+"/")&&u.children&&(o.push(u),o.push(...W(u.children,s))),o),[])}const K=["ProseA","ProseAccordion","ProseAccordionItem","ProseBadge","ProseBlockquote","ProseCallout","ProseCard","ProseCardGroup","ProseCode","ProseCodeCollapse","ProseCodeGroup","ProseCodeIcon","ProseCodePreview","ProseCodeTree","ProseCollapsible","ProseEm","ProseField","ProseFieldGroup","ProseH1","ProseH2","ProseH3","ProseH4","ProseHr","ProseIcon","ProseImg","ProseKbd","ProseLi","ProseOl","ProseP","ProsePre","ProseScript","ProseSteps","ProseStrong","ProseTable","ProseTabs","ProseTabsItem","ProseTbody","ProseTd","ProseTh","ProseThead","ProseTr","ProseUl","ProseCaution","ProseNote","ProseTip","ProseWarning","ProseH5","ProseH6","Icon"],Q=[],je=Object.freeze(Object.defineProperty({__proto__:null,globalComponents:K,localComponents:Q},Symbol.toStringTag,{value:"Module"})),Le={__name:"ContentRenderer",props:{value:{type:Object,required:!0},excerpt:{type:Boolean,default:!1},tag:{type:String,default:"div"},components:{type:Object,default:()=>({})},data:{type:Object,default:()=>({})},prose:{type:Boolean,default:void 0},class:{type:[String,Object],default:void 0},unwrap:{type:[Boolean,String],default:!1}},setup(a){const s=["render","ssrRender","__ssrInlineRender"],o=a,u=!1,t=y(()=>{let e=o.value.body||o.value;return o.excerpt&&o.value.excerpt&&(e=o.value.excerpt),e.type==="minimal"?ne(e):e}),m=y(()=>{var e,n;return!((n=(e=t.value)==null?void 0:e.children)!=null&&n.length)}),f=y(()=>{const{body:e,excerpt:n,...r}=o.value;return{...r,...o.data}}),T=Object.fromEntries(["p","a","blockquote","code","pre","code","em","h1","h2","h3","h4","h5","h6","hr","img","ul","ol","li","strong","table","thead","tbody","td","th","tr","script"].map(e=>[e,`prose-${e}`])),{mdc:h}=se().public||{},I=y(()=>{var e,n,r,i;return{...(e=h==null?void 0:h.components)!=null&&e.prose&&o.prose!==!1?T:{},...((n=h==null?void 0:h.components)==null?void 0:n.map)||{},...ae(((i=(r=o.data)==null?void 0:r.mdc)==null?void 0:i.components)||{}),...o.components}}),w=y(()=>t.value?S(t.value,{tags:I.value}):{});function d(e){let n=e;if(typeof e=="string"){if(N.includes(e))return e;if(K.includes(B(e))?n=ie(e,!1):Q.includes(B(e))&&(n=M(()=>le(()=>Promise.resolve().then(()=>je),void 0,import.meta.url).then(c=>{const p=c[B(e)];return p?p():void 0}))),typeof n=="string")return n}if(!n)return n;const r=n;return"__asyncLoader"in r?r:"setup"in r?M(()=>Promise.resolve(r)):r}function S(e,n){if(!e)return;const r=Array.from(new Set(P(e,n))),i={};for(const[c,p]of r)if(!i[c]){if(typeof p=="object"&&s.some($=>Object.hasOwnProperty.call(p,$))){i[c]=p;continue}i[c]=d(p)}return i}function P(e,n){const r=e.tag;if(e.type==="text"||r==="binding"||e.type==="comment")return[];const i=C(e,n.tags),c=[];e.type!=="root"&&!N.includes(i)&&c.push([r,i]);for(const p of e.children||[])c.push(...P(p,n));return c}function C(e,n){var i;const r=e.tag;return!r||typeof((i=e.props)==null?void 0:i.__ignoreMap)<"u"?r:n[r]||n[B(r)]||n[re(e.tag)]||r}return(e,n)=>m.value?L(e.$slots,"empty",{key:1,body:t.value,data:f.value,dataContentId:l(u)?a.value.id:void 0}):(_(),k(we,{key:0,body:t.value,data:f.value,class:x(o.class),tag:o.tag,prose:o.prose,unwrap:o.unwrap,components:w.value,"data-content-id":l(u)?a.value.id:void 0},null,8,["body","data","class","tag","prose","unwrap","components","data-content-id"]))}},Re={slots:{root:"grid grid-cols-1 sm:grid-cols-2 gap-8",link:["group block px-6 py-8 rounded-lg border border-default hover:bg-elevated/50 focus-visible:outline-primary","transition-colors"],linkLeading:["inline-flex items-center rounded-full p-1.5 bg-elevated group-hover:bg-primary/10 ring ring-accented mb-4 group-hover:ring-primary/50","transition"],linkLeadingIcon:["size-5 shrink-0 text-highlighted group-hover:text-primary","transition-[color,translate]"],linkTitle:"font-medium text-[15px] text-highlighted mb-1 truncate",linkDescription:"text-sm text-muted line-clamp-2"},variants:{direction:{left:{linkLeadingIcon:["group-active:-translate-x-0.5"]},right:{link:"text-right",linkLeadingIcon:["group-active:translate-x-0.5"]}}}},Ue={key:1,class:"hidden lg:block"},De={__name:"UContentSurround",props:{as:{type:null,required:!1},prevIcon:{type:String,required:!1},nextIcon:{type:String,required:!1},surround:{type:Array,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1}},setup(a){const s=a,o=V(),[u,t]=ce({props:{link:Object,icon:String,direction:String}}),m=y(()=>{var f;return O({extend:O(Re),...((f=o.uiPro)==null?void 0:f.contentSurround)||{}})()});return(f,T)=>{var w;const h=F,I=z;return _(),U(ue,null,[g(l(u),null,{default:b(({link:d,icon:S,direction:P})=>{var C,e;return[d?(_(),k(I,{key:0,to:d.path,raw:"",class:x(m.value.link({class:[(C=s.ui)==null?void 0:C.link,(e=d.ui)==null?void 0:e.link,d.class],direction:P}))},{default:b(()=>[L(f.$slots,"link",{link:d},()=>{var n,r,i,c,p,$;return[v("div",{class:x(m.value.linkLeading({class:[(n=s.ui)==null?void 0:n.linkLeading,(r=d.ui)==null?void 0:r.linkLeading]}))},[L(f.$slots,"link-leading",{link:d},()=>{var D,q;return[g(h,{name:d.icon||S,class:x(m.value.linkLeadingIcon({class:[(D=s.ui)==null?void 0:D.linkLeadingIcon,(q=d.ui)==null?void 0:q.linkLeadingIcon],direction:P}))},null,8,["name","class"])]})],2),v("p",{class:x(m.value.linkTitle({class:[(i=s.ui)==null?void 0:i.linkTitle,(c=d.ui)==null?void 0:c.linkTitle]}))},[L(f.$slots,"link-title",{link:d},()=>[A(R(d.title),1)])],2),v("p",{class:x(m.value.linkDescription({class:[(p=s.ui)==null?void 0:p.linkDescription,($=d.ui)==null?void 0:$.linkDescription]}))},[L(f.$slots,"link-description",{link:d},()=>[A(R(d.description),1)])],2)]})]),_:2},1032,["to","class"])):(_(),U("span",Ue,"Â "))]}),_:3}),a.surround?(_(),k(l(G),{key:0,as:a.as,class:x(m.value.root({class:[(w=s.ui)==null?void 0:w.root,s.class]}))},{default:b(()=>[g(l(t),{link:a.surround[0],icon:a.prevIcon||l(o).ui.icons.arrowLeft,direction:"left"},null,8,["link","icon"]),g(l(t),{link:a.surround[1],icon:a.nextIcon||l(o).ui.icons.arrowRight,direction:"right"},null,8,["link","icon"])]),_:1},8,["as","class"])):j("",!0)],64)}}},qe={base:"mt-8 pb-24 space-y-12"},Be={__name:"UPageBody",props:{as:{type:null,required:!1},class:{type:null,required:!1}},setup(a){const s=a,o=V(),u=y(()=>{var t;return O({extend:O(qe),...((t=o.uiPro)==null?void 0:t.pageBody)||{}})});return(t,m)=>(_(),k(l(G),{as:a.as,class:x(u.value({class:s.class}))},{default:b(()=>[L(t.$slots,"default")]),_:3},8,["as","class"]))}};function Oe(a,s="Copied to clipboard"){const o=de();navigator.clipboard.writeText(a).then(()=>{o.add({title:s,color:"success",icon:"i-lucide-check-circle"})})}const Ae={class:"flex flex-col gap-3 mt-8"},Me={class:"flex text-xs text-muted items-center justify-center gap-2"},Ee={key:0},He={key:1},Ne={key:2},Ve={class:"text-4xl text-center font-medium max-w-3xl mx-auto mt-4"},ze={class:"text-muted text-center max-w-2xl mx-auto"},Fe={class:"flex items-center justify-center gap-2 mt-2"},Ge={class:"flex items-center justify-end gap-2 text-sm text-muted"},Ze=pe({__name:"[...slug]",async setup(a){var S,P,C,e,n,r;let s,o;const u=me(),{data:t}=([s,o]=E(()=>H(u.path,()=>ve("blog").path(u.path).first(),"$DquttgHoet")),s=await s,o(),s);if(!t.value)throw fe({statusCode:404,statusMessage:"Page not found",fatal:!0});const{data:m}=([s,o]=E(()=>H(`${u.path}-surround`,()=>be("blog",u.path,{fields:["description"]}))),s=await s,o(),s),f=ge("navigation",_e([])),T=y(()=>{var i;return((i=f.value.find(c=>c.path==="/blog"))==null?void 0:i.children)||[]});y(()=>$e(W(T==null?void 0:T.value,t.value)).map(({icon:i,...c})=>c)),t.value.image;const h=((P=(S=t.value)==null?void 0:S.seo)==null?void 0:P.title)||((C=t.value)==null?void 0:C.title),I=((n=(e=t.value)==null?void 0:e.seo)==null?void 0:n.description)||((r=t.value)==null?void 0:r.description);he({title:h,description:I,ogDescription:I,ogTitle:h});const w=y(()=>`${window.location}${u.path}`),d=i=>new Date(i).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return(i,c)=>{const p=F,$=z,D=Ce,q=Ie,J=Le,X=Te,Y=De,Z=Be,ee=xe,te=Pe,oe=ye;return _(),k(oe,{class:"mt-20 px-2"},{default:b(()=>[g(te,{class:"relative min-h-screen"},{default:b(()=>[l(t)?(_(),k(ee,{key:0},{default:b(()=>[g($,{to:"/blog",class:"text-sm flex items-center gap-1"},{default:b(()=>[g(p,{name:"lucide:chevron-left"}),c[1]||(c[1]=A(" Blog "))]),_:1}),v("div",Ae,[v("div",Me,[l(t).date?(_(),U("span",Ee,R(d(l(t).date)),1)):j("",!0),l(t).date&&l(t).minRead?(_(),U("span",He," - ")):j("",!0),l(t).minRead?(_(),U("span",Ne,R(l(t).minRead)+" MIN READ ",1)):j("",!0)]),g(D,{src:l(t).image,alt:l(t).title,class:"rounded-lg w-full h-[300px] object-cover object-center"},null,8,["src","alt"]),v("h1",Ve,R(l(t).title),1),v("p",ze,R(l(t).description),1),v("div",Fe,[g(q,ke({orientation:"vertical",color:"neutral",variant:"outline",class:"justify-center items-center text-center"},l(t).author),null,16)])]),g(Z,{class:"max-w-3xl mx-auto"},{default:b(()=>[l(t).body?(_(),k(J,{key:0,value:l(t)},null,8,["value"])):j("",!0),v("div",Ge,[g(X,{size:"sm",variant:"link",color:"neutral",label:"Copy link",onClick:c[0]||(c[0]=We=>("copyToClipboard"in i?i.copyToClipboard:l(Oe))(l(w),"Article link copied to clipboard"))})]),g(Y,{surround:l(m)},null,8,["surround"])]),_:1})]),_:1})):j("",!0)]),_:1})]),_:1})}}});export{Ze as default};
